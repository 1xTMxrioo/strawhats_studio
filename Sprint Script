local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local sliding = false
local slideWalkSpeed = 45
local slideFOV = 85
local slideDuration = 0.8

local function isSprinting()
	--check if sprinting
	local sprintScript = player:WaitForChild("PlayerScripts"):FindFirstChild("SprintScript")
	if sprintScript and sprintScript:IsA("LocalScript") then
		local character = player.Character
		if character then
			local humanoid = character:FindFirstChildOfClass("Humanoid")
			if humanoid and humanoid.WalkSpeed >= 35 then
				return true
			end
		end
	end
	return false
end

local function startSprintLoopSound()
	if not Config.EnableSounds or sprintLoopSound then return end

	local sound = Instance.new("Sound")
	sound.SoundId = Config.SprintLoopSound
	sound.Volume = Config.SprintVolume * 0.7
	sound.Looped = true
	sound.Parent = workspace.CurrentCamera
	sound:Play()
	sprintLoopSound = sound
end

local function stopSprintLoopSound()
	if sprintLoopSound then
		sprintLoopSound:Stop()
		sprintLoopSound:Destroy()
		sprintLoopSound = nil
	end
end
